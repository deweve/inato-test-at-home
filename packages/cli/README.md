# CLI

This package is the beginning of a CLI built using [commander.js](https://github.com/tj/commander.js).

You can run it using the following command:

```sh
yarn start --help
```

# Architecture

## Commands

The cli has a commands folder, each command must be in its folder.

## Create a new command

1. Create a new folder in commands folder.
2. Create an index typescript file with the command

## Api Call

The calls to the api is done with the package graphql-request library.

There is the option url in the program to change the url. To use the sdk in your command call the function :

```typescript
const { url } = trialsCommand.parent.opts();
const sdk = getSdkConfigured(url);
```

### Create GQL request

Each GQL requests is generated by graphql-codegen.

1. Create a gql document with the request.
2. Start the Inato Api
3. Use the following command:

```sh
yarn generate
```
